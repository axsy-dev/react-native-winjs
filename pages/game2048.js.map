{"version":3,"sources":["webpack:///game2048.js","webpack:///./Examples/2048/Game2048.js","webpack:///./Examples/2048/GameBoard.js","webpack:///./Libraries/Touchable/TouchableBounce.web.js"],"names":["webpackJsonp",0,"module","exports","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","getPageXY","event","Platform","OS","touch","nativeEvent","changedTouches","pageX","pageY","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","getter","get","call","parent","getPrototypeOf","React","AppRegistry","StyleSheet","Text","View","Animated","GameBoard","TouchableBounce","BOARD_PADDING","CELL_MARGIN","CELL_SIZE","Cell","_React$Component","this","apply","arguments","createElement","style","styles","cell","Component","Board","_React$Component2","board","row","children","Tile","_React$Component3","tile","state","opacity","Value","top","_getPosition","toRow","left","toColumn","index","offset","isNew","timing","duration","toValue","start","parallel","tileStyles","calculateOffset","textStyles","whiteText","threeDigits","fourDigits","GameEndOverlay","_React$Component4","hasWon","hasLost","message","overlay","overlayMessage","onPress","onRestart","tryAgain","tryAgainText","Game2048","_React$Component5","startX","startY","setState","deltaX","deltaY","direction","Math","abs","move","_this","tiles","filter","map","ref","id","container","onTouchStart","handleTouchStart","onTouchEnd","handleTouchEnd","restartGame","flex","justifyContent","alignItems","padding","backgroundColor","borderRadius","position","bottom","right","flexDirection","fontSize","marginBottom","color","fontWeight","width","height","margin","fontFamily","tile2","tile4","tile8","tile16","tile32","tile64","tile128","tile256","tile512","tile1024","tile2048","registerComponent","app","document","body","appendChild","runApplication","rootTag",336,"rotateLeft","matrix","rows","columns","res","push","column","oldRow","oldColumn","markForDeletion","mergedInto","moveTo","hasMoved","fromRow","fromColumn","cells","size","addTile","addRandomTile","setPositions","won","moveLeft","hasChanged","currentRow","resultRow","targetTile","shift","tile1","forEach","rowIndex","columnIndex","fourProbability","emptyCells","r","c","floor","random","newValue","clearOldTiles","canMove","dir","newRow","newColumn",337,"_interopRequireDefault","obj","__esModule","default","_extends","assign","source","hasOwnProperty","_ReactAnimated","_ReactAnimated2","_react","_react2","_ReactTouchable","PRESS_RECT_OFFSET","createClass","displayName","mixins","Mixin","propTypes","PropTypes","func","onPressIn","onPressOut","onPressWithCompletion","onPressAnimationComplete","getInitialState","touchableGetInitialState","scale","bounceTo","velocity","bounciness","callback","spring","touchableHandleActivePressIn","e","touchableHandleActivePressOut","touchableHandlePress","setValue","touchableGetPressRectOffset","touchableGetHighlightDelayMS","render","transform","accessible","testID","onStartShouldSetResponder","touchableHandleStartShouldSetResponder","onResponderTerminationRequest","touchableHandleResponderTerminationRequest","onResponderGrant","touchableHandleResponderGrant","onResponderMove","touchableHandleResponderMove","onResponderRelease","touchableHandleResponderRelease","onResponderTerminate","touchableHandleResponderTerminate"],"mappings":"AAAAA,cAAc,IAERC,EACA,SAASC,EAAQC,EAASC,GCahC,YDWC,SAASC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIH,WAAU,iEAAoEG,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GCFle,QAASW,GAAUC,GACjB,GAAmB,OAAfC,EAASC,GAAa,CACxB,GAAIC,GAAQH,EAAMI,YAAYC,eAAe,EAC7C,QACEC,MAAOH,EAAMG,MACbC,MAAOJ,EAAMI,OAGf,OACED,MAAON,EAAMI,YAAYE,MACzBC,MAAOP,EAAMI,YAAYG,ODd9B,GAAIC,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWpB,WAAaoB,EAAWpB,aAAc,EAAOoB,EAAWlB,cAAe,EAAU,SAAWkB,KAAYA,EAAWnB,UAAW,GAAML,OAAOyB,eAAeL,EAAQI,EAAWE,IAAKF,IAAiB,MAAO,UAAU9B,EAAaiC,EAAYC,GAAiJ,MAA9HD,IAAYR,EAAiBzB,EAAYK,UAAW4B,GAAiBC,GAAaT,EAAiBzB,EAAakC,GAAqBlC,MAE7hBmC,EAAO,SAAaC,EAAIC,EAAKC,GAAqC,IAA9B,GAAIC,IAAS,EAAwBA,GAAQ,CAAE,GAAIC,GAASJ,EAAIK,EAAWJ,EAAKK,EAAWJ,CAAKC,IAAS,EAAsB,OAAXC,IAAiBA,EAASG,SAAStC,UAAW,IAAIuC,GAAOtC,OAAOuC,yBAAyBL,EAAQC,EAAW,IAAaK,SAATF,EAAJ,CAA4O,GAAI,SAAWA,GAAQ,MAAOA,GAAKnC,KAAgB,IAAIsC,GAASH,EAAKI,GAAK,IAAeF,SAAXC,EAAwB,MAAoB,OAAOA,GAAOE,KAAKP,GAA/V,GAAIQ,GAAS5C,OAAO6C,eAAeX,EAAS,IAAe,OAAXU,EAAmB,MAA2Bd,GAAKc,EAAQb,EAAMI,EAAUH,EAAMI,EAAUH,GAAS,EAAMK,EAAOM,EAASJ,SCPzcM,EAAQvD,EAAQ,GAElBwD,EAKED,EALFC,YACAC,EAIEF,EAJFE,WACAC,EAGEH,EAHFG,KACAC,EAEEJ,EAFFI,KACAvC,EACEmC,EADFnC,SAkBEwC,EAAW5D,EAAQ,KACnB6D,EAAY7D,EAAQ,KACpB8D,EAAkB9D,EAAQ,KAE1B+D,EAAgB,EAChBC,EAAc,EACdC,EAAY,GAEVC,EAAI,SAAAC,GDcP,QCdGD,KDeDjE,EAAgBmE,KCffF,GDiBD5B,EAAK7B,OAAO6C,eCjBXY,EAAI1D,WAAA,cAAA4D,MAAAC,MAAAD,KAAAE,WD2BP,MAfAjE,GCZG6D,EAAIC,GDoBPxC,ECpBGuC,IDqBD/B,IAAK,SACLvB,MCrBG,WACJ,MAAO2C,GAAAgB,cAACZ,GAAKa,MAAOC,EAAOC,WAFzBR,GAAaX,EAAMoB,WAMnBC,EAAK,SAAAC,GD2BR,QC3BGD,KD4BD3E,EAAgBmE,KC5BfQ,GD8BDtC,EAAK7B,OAAO6C,eC9BXsB,EAAKpE,WAAA,cAAA4D,MAAAC,MAAAD,KAAAE,WD4ER,MAnDAjE,GCzBGuE,EAAKC,GDiCRlD,ECjCGiD,IDkCDzC,IAAK,SACLvB,MClCG,WACJ,MACE2C,GAAAgB,cAACZ,GAAKa,MAAOC,EAAOK,OAClBvB,EAAAgB,cAACZ,GAAKa,MAAOC,EAAOM,KAAKxB,EAAAgB,cAACL,EAAI,MAAEX,EAAAgB,cAACL,EAAI,MAAEX,EAAAgB,cAACL,EAAI,MAAEX,EAAAgB,cAACL,EAAI,OACnDX,EAAAgB,cAACZ,GAAKa,MAAOC,EAAOM,KAAKxB,EAAAgB,cAACL,EAAI,MAAEX,EAAAgB,cAACL,EAAI,MAAEX,EAAAgB,cAACL,EAAI,MAAEX,EAAAgB,cAACL,EAAI,OACnDX,EAAAgB,cAACZ,GAAKa,MAAOC,EAAOM,KAAKxB,EAAAgB,cAACL,EAAI,MAAEX,EAAAgB,cAACL,EAAI,MAAEX,EAAAgB,cAACL,EAAI,MAAEX,EAAAgB,cAACL,EAAI,OACnDX,EAAAgB,cAACZ,GAAKa,MAAOC,EAAOM,KAAKxB,EAAAgB,cAACL,EAAI,MAAEX,EAAAgB,cAACL,EAAI,MAAEX,EAAAgB,cAACL,EAAI,MAAEX,EAAAgB,cAACL,EAAI,OAClDE,KAAKtC,MAAMkD,cARdJ,GAAcrB,EAAMoB,WAcpBM,EAAI,SAAAC,GAKG,QALPD,GAKQnD,GDuET7B,EAAgBmE,KC5Efa,GAMF3C,EAAA7B,OAAA6C,eANE2B,EAAIzE,WAAA,cAAA4D,MAAAhB,KAAAgB,KAMAtC,EAEN,IAAIqD,GAAOf,KAAKtC,MAAMqD,IAEtBf,MAAKgB,OACHC,QAAS,GAAIzB,GAAS0B,MAAM,GAC5BC,IAAK,GAAI3B,GAAS0B,MAAML,EAAKO,aAAaL,EAAKM,UAC/CC,KAAM,GAAI9B,GAAS0B,MAAML,EAAKO,aAAaL,EAAKQ,cD4HnD,MAvEAtF,GClEG4E,EAAIC,GDoEPvD,ECpEGsD,EAAI,ODqEL9C,IAAK,eACLvB,MCrEgB,SAACgF,GAClB,MAAO7B,IAAiB6B,GAAS3B,EAA0B,EAAdD,GAAmBA,ODuFjErC,ECzFGsD,ID0FD9C,IAAK,kBACLvB,MC1EY,WACb,GAAIuE,GAAOf,KAAKtC,MAAMqD,KAElBU,GACFN,IAAKnB,KAAKgB,MAAMG,IAChBG,KAAMtB,KAAKgB,MAAMM,KACjBL,QAASjB,KAAKgB,MAAMC,QAoBtB,OAjBIF,GAAKW,QACPlC,EAASmC,OAAO3B,KAAKgB,MAAMC,SACzBW,SAAU,IACVC,QAAS,IACRC,QAEHtC,EAASuC,UACPvC,EAASmC,OAAOF,EAAON,KACrBS,SAAU,IACVC,QAAShB,EAAKO,aAAaL,EAAKM,WAElC7B,EAASmC,OAAOF,EAAOH,MACrBM,SAAU,IACVC,QAAShB,EAAKO,aAAaL,EAAKQ,gBAEjCO,QAEEL,KD0EN1D,IAAK,SACLvB,MCxEG,WACJ,GAAIuE,GAAOf,KAAKtC,MAAMqD,KAElBiB,GACF3B,EAAOU,KACPV,EAAO,OAASU,EAAKvE,OACrBwD,KAAKiC,mBAGHC,GACF7B,EAAO7D,MACPuE,EAAKvE,MAAQ,GAAK6D,EAAO8B,UACzBpB,EAAKvE,MAAQ,KAAO6D,EAAO+B,YAC3BrB,EAAKvE,MAAQ,KAAQ6D,EAAOgC,WAG9B,OACElD,GAAAgB,cAACX,EAASD,MAAKa,MAAO4B,GACpB7C,EAAAgB,cAACb,GAAKc,MAAO8B,GAAanB,EAAKvE,YAhEjCqE,GAAa1B,EAAMoB,WAsEnB+B,EAAc,SAAAC,GDyEjB,QCzEGD,KD0EDzG,EAAgBmE,KC1EfsC,GD4EDpE,EAAK7B,OAAO6C,eC5EXoD,EAAclG,WAAA,cAAA4D,MAAAC,MAAAD,KAAAE,WD+GjB,MAxCAjE,GCvEGqG,EAAcC,GD+EjBhF,EC/EG+E,IDgFDvE,IAAK,SACLvB,MChFG,WACJ,GAAIkE,GAAQV,KAAKtC,MAAMgD,KAEvB,KAAKA,EAAM8B,WAAa9B,EAAM+B,UAC5B,MAAOtD,GAAAgB,cAACZ,EAAI,KAGd,IAAImD,GAAUhC,EAAM8B,SAClB,YAAc,WAEhB,OACErD,GAAAgB,cAACZ,GAAKa,MAAOC,EAAOsC,SAClBxD,EAAAgB,cAACb,GAAKc,MAAOC,EAAOuC,gBAAiBF,GACrCvD,EAAAgB,cAACT,GAAgBmD,QAAS7C,KAAKtC,MAAMoF,UAAW1C,MAAOC,EAAO0C,UAC5D5D,EAAAgB,cAACb,GAAKc,MAAOC,EAAO2C,cDyFjB,oBCxGPV,GAAuBnD,EAAMoB,WAsB7B0C,EAAQ,SAAAC,GAID,QAJPD,GAIQvF,GD4FT7B,EAAgBmE,KChGfiD,GAKF/E,EAAA7B,OAAA6C,eALE+D,EAAQ7G,WAAA,cAAA4D,MAAAhB,KAAAgB,KAKJtC,GACNsC,KAAKgB,OACHN,MAAO,GAAIjB,IAEbO,KAAKmD,OAAS,EACdnD,KAAKoD,OAAS,EDuKf,MApFAnH,GC7FGgH,EAAQC,GD0GX3F,EC1GG0F,ID2GDlF,IAAK,cACLvB,MC/FQ,WACTwD,KAAKqD,UAAU3C,MAAO,GAAIjB,QDkGzB1B,IAAK,mBACLvB,MChGa,SAACO,GACf,IAAIiD,KAAKgB,MAAMN,MAAM8B,SAArB,CAIA,GAAItF,GAAQJ,EAAUC,EACtBiD,MAAKmD,OAASjG,EAAMG,MACpB2C,KAAKoD,OAASlG,EAAMI,UDmGnBS,IAAK,iBACLvB,MChGW,SAACO,GACb,IAAIiD,KAAKgB,MAAMN,MAAM8B,SAArB,CAIA,GAAItF,GAAQJ,EAAUC,GAClBuG,EAASpG,EAAMG,MAAQ2C,KAAKmD,OAC5BI,EAASrG,EAAMI,MAAQ0C,KAAKoD,OAE5BI,EAAY,EACZC,MAAKC,IAAIJ,GAAU,EAAIG,KAAKC,IAAIH,IAAWE,KAAKC,IAAIJ,GAAU,GAChEE,EAAYF,EAAS,EAAI,EAAI,EACpBG,KAAKC,IAAIH,GAAU,EAAIE,KAAKC,IAAIJ,IAAWG,KAAKC,IAAIH,GAAU,KACvEC,EAAYD,EAAS,EAAI,EAAI,GAGb,KAAdC,GACFxD,KAAKqD,UAAU3C,MAAOV,KAAKgB,MAAMN,MAAMiD,KAAKH,SDoG7CzF,IAAK,SACLvB,MCjGG,WDkGD,GAAIoH,GAAQ5D,KCjGX6D,EAAQ7D,KAAKgB,MAAMN,MAAMmD,MAC1BC,OAAO,SAAC/C,GDmGN,MCnGeA,GAAKvE,QACtBuH,IAAI,SAAChD,GDoGH,MCpGY5B,GAAAgB,cAACU,GAAKmD,IAAKjD,EAAKkD,GAAIlG,IAAKgD,EAAKkD,GAAIlD,KAAMA,KAEzD,OACE5B,GAAAgB,cAACZ,GACCa,MAAOC,EAAO6D,UACdC,aAAc,SAACpH,GDuGV,MCvGoB6G,GAAKQ,iBAAiBrH,IAC/CsH,WAAY,SAACtH,GDyGR,MCzGkB6G,GAAKU,eAAevH,KAC3CoC,EAAAgB,cAACK,ED4GE,KC3GAqD,GAEH1E,EAAAgB,cAACmC,GAAe5B,MAAOV,KAAKgB,MAAMN,MAAOoC,UAAW,WD6G/C,MC7GqDc,GAAKW,sBA9DjEtB,GAAiB9D,EAAMoB,WAoEzBF,EAAShB,EAAW/C,QACtB4H,WACEM,KAAM,EACNC,eAAgB,SAChBC,WAAY,UAEdhE,OACEiE,QAAShF,EACTiF,gBAAiB,UACjBC,aAAc,GAEhBlC,SACEmC,SAAU,WACV3D,IAAK,EACL4D,OAAQ,EACRzD,KAAM,EACN0D,MAAO,EACPJ,gBAAiB,2BACjBJ,KAAM,EACNS,cAAe,SACfR,eAAgB,SAChBC,WAAY,UAEd9B,gBACEsC,SAAU,GACVC,aAAc,IAEhBpC,UACE6B,gBAAiB,UACjBD,QAAS,GACTE,aAAc,GAEhB7B,cACEoC,MAAO,UACPF,SAAU,GACVG,WAAY,OAEd/E,MACEgF,MAAOzF,EACP0F,OAAQ1F,EACRgF,aAAc,EACdD,gBAAiB,UACjBY,OAAQ5F,GAEVe,KACEsE,cAAe,OAEjBlE,MACE+D,SAAU,WACVQ,MAAOzF,EACP0F,OAAQ1F,EACR+E,gBAAiB,UACjBC,aAAc,EACdL,KAAM,EACNC,eAAgB,SAChBC,WAAY,UAEdlI,OACE0I,SAAU,GACVE,MAAO,UACPK,WAAY,UACZJ,WAAY,OAEdK,OACEd,gBAAiB,WAEnBe,OACEf,gBAAiB,WAEnBgB,OACEhB,gBAAiB,WAEnBiB,QACEjB,gBAAiB,WAEnBkB,QACElB,gBAAiB,WAEnBmB,QACEnB,gBAAiB,WAEnBoB,SACEpB,gBAAiB,WAEnBqB,SACErB,gBAAiB,WAEnBsB,SACEtB,gBAAiB,WAEnBuB,UACEvB,gBAAiB,WAEnBwB,UACExB,gBAAiB,WAEnBzC,WACEiD,MAAO,WAEThD,aACE8C,SAAU,IAEZ7C,YACE6C,SAAU,KAMd,IAFA9F,EAAYiH,kBAAkB,WAAY,WDiHvC,MCjH6CpD,KAE9B,OAAfjG,EAASC,GAAY,CACtB,GAAIqJ,GAAMC,SAASpG,cAAc,MACjCoG,UAASC,KAAKC,YAAYH,GAE1BlH,EAAYsH,eAAe,YACzBC,QAASL,IAIb5K,EAAOC,QAAUsH,GDsHX2D,IACA,SAASlL,EAAQC,GEncvB,YAKA,IAAIkL,GAAa,SAAUC,GAIzB,IAAK,GAHDC,GAAOD,EAAOlJ,OACdoJ,EAAUF,EAAO,GAAGlJ,OACpBqJ,KACKtG,EAAM,EAASoG,EAANpG,IAAcA,EAAK,CACnCsG,EAAIC,QACJ,KAAK,GAAIC,GAAS,EAAYH,EAATG,IAAoBA,EACvCF,EAAItG,GAAKwG,GAAUL,EAAOK,GAAQH,EAAUrG,EAAM,GAGtD,MAAOsG,IAGLpG,EAAO,QAAPA,GAAiBrE,EAAgBmE,EAAcwG,GACjDnH,KAAKxD,MAAQA,GAAS,EACtBwD,KAAKW,IAAMA,GAAO,GAElBX,KAAKmH,OAASA,GAAU,GACxBnH,KAAKoH,OAAS,GACdpH,KAAKqH,UAAY,GACjBrH,KAAKsH,iBAAkB,EACvBtH,KAAKuH,WAAa,KAClBvH,KAAKiE,GAAKpD,EAAKoD,KAGjBpD,GAAKoD,GAAK,EAEVpD,EAAKzE,UAAUoL,OAAS,SAAU7G,EAAKwG,GACrCnH,KAAKoH,OAASpH,KAAKW,IACnBX,KAAKqH,UAAYrH,KAAKmH,OACtBnH,KAAKW,IAAMA,EACXX,KAAKmH,OAASA,GAGhBtG,EAAKzE,UAAUsF,MAAQ,WACrB,MAAuB,KAAhB1B,KAAKoH,SAAkBpH,KAAKuH,YAGrC1G,EAAKzE,UAAUqL,SAAW,WACxB,MAA2B,KAAnBzH,KAAK0H,YAAqB1H,KAAK0H,YAAc1H,KAAKqB,SAAWrB,KAAK2H,eAAiB3H,KAAKuB,aAC9FvB,KAAKuH,YAGT1G,EAAKzE,UAAUsL,QAAU,WACvB,MAAO1H,MAAKuH,WAAavH,KAAKW,IAAMX,KAAKoH,QAG3CvG,EAAKzE,UAAUuL,WAAa,WAC1B,MAAO3H,MAAKuH,WAAavH,KAAKmH,OAASnH,KAAKqH,WAG9CxG,EAAKzE,UAAUiF,MAAQ,WACrB,MAAOrB,MAAKuH,WAAavH,KAAKuH,WAAW5G,IAAMX,KAAKW,KAGtDE,EAAKzE,UAAUmF,SAAW,WACxB,MAAOvB,MAAKuH,WAAavH,KAAKuH,WAAWJ,OAASnH,KAAKmH,OAGzD,IAAI3G,GAAQ,QAARA,KACFR,KAAK6D,SACL7D,KAAK4H,QACL,KAAK,GAAIjK,GAAI,EAAGA,EAAI6C,EAAMqH,OAAQlK,EAChCqC,KAAK4H,MAAMjK,IAAMqC,KAAK8H,UAAW9H,KAAK8H,UAAW9H,KAAK8H,UAAW9H,KAAK8H,UAExE9H,MAAK+H,gBACL/H,KAAKgI,eACLhI,KAAKiI,KAAM,EAGbzH,GAAMpE,UAAU0L,QAAU,WACxB,GAAIb,GAAM,GAAIpG,EAGd,OAFAA,GAAKZ,MAAMgH,EAAK/G,WAChBF,KAAK6D,MAAMqD,KAAKD,GACTA,GAGTzG,EAAMqH,KAAO,EAEbrH,EAAMpE,UAAU8L,SAAW,WAEzB,IAAK,GADDC,IAAa,EACRxH,EAAM,EAAGA,EAAMH,EAAMqH,OAAQlH,EAAK,CAGzC,IAAK,GAFDyH,GAAapI,KAAK4H,MAAMjH,GAAKmD,OAAO,SAAU/C,GAAQ,MAAsB,KAAfA,EAAKvE,QAClE6L,KACK5K,EAAS,EAAGA,EAAS+C,EAAMqH,OAAQpK,EAAQ,CAClD,GAAI6K,GAAaF,EAAWxK,OAASwK,EAAWG,QAAUvI,KAAK8H,SAC/D,IAAIM,EAAWxK,OAAS,GAAKwK,EAAW,GAAG5L,QAAU8L,EAAW9L,MAAO,CACrE,GAAIgM,GAAQF,CACZA,GAAatI,KAAK8H,QAAQQ,EAAW9L,OACrCgM,EAAMjB,WAAae,CACnB,IAAI5C,GAAQ0C,EAAWG,OACvB7C,GAAM6B,WAAae,EACnBA,EAAW9L,OAASkJ,EAAMlJ,MAE5B6L,EAAU5K,GAAU6K,EACpBtI,KAAKiI,IAAMjI,KAAKiI,KAA6B,OAArBK,EAAW9L,MACnC2L,EAAaA,GAAeG,EAAW9L,QAAUwD,KAAK4H,MAAMjH,GAAKlD,GAAQjB,MAE3EwD,KAAK4H,MAAMjH,GAAO0H,EAEpB,MAAOF,IAGT3H,EAAMpE,UAAU4L,aAAe,WAC7BhI,KAAK4H,MAAMa,QAAQ,SAAU9H,EAAK+H,GAChC/H,EAAI8H,QAAQ,SAAU1H,EAAM4H,GAC1B5H,EAAKqG,OAASrG,EAAKJ,IACnBI,EAAKsG,UAAYtG,EAAKoG,OACtBpG,EAAKJ,IAAM+H,EACX3H,EAAKoG,OAASwB,EACd5H,EAAKuG,iBAAkB,OAK7B9G,EAAMoI,gBAAkB,GAExBpI,EAAMpE,UAAU2L,cAAgB,WAE9B,IAAK,GADDc,MACKC,EAAI,EAAGA,EAAItI,EAAMqH,OAAQiB,EAChC,IAAK,GAAIC,GAAI,EAAGA,EAAIvI,EAAMqH,OAAQkB,EACD,IAA3B/I,KAAK4H,MAAMkB,GAAGC,GAAGvM,OACnBqM,EAAW3B,MAAM4B,EAAGA,EAAGC,EAAGA,GAIhC,IAAIvH,GAAQiC,KAAKuF,MAAMvF,KAAKwF,SAAWJ,EAAWjL,QAC9C0C,EAAOuI,EAAWrH,GAClB0H,EAAWzF,KAAKwF,SAAWzI,EAAMoI,gBAAkB,EAAI,CAC3D5I,MAAK4H,MAAMtH,EAAKwI,GAAGxI,EAAKyI,GAAK/I,KAAK8H,QAAQoB,IAG5C1I,EAAMpE,UAAUuH,KAAO,SAAUH,GAE/BxD,KAAKmJ,eACL,KAAK,GAAIxL,GAAI,EAAO6F,EAAJ7F,IAAiBA,EAC/BqC,KAAK4H,MAAQf,EAAW7G,KAAK4H,MAG/B,KAAK,GADDO,GAAanI,KAAKkI,WACbvK,EAAI6F,EAAe,EAAJ7F,IAASA,EAC/BqC,KAAK4H,MAAQf,EAAW7G,KAAK4H,MAM/B,OAJIO,IACFnI,KAAK+H,gBAEP/H,KAAKgI,eACEhI,MAGTQ,EAAMpE,UAAU+M,cAAgB,WAC9BnJ,KAAK6D,MAAQ7D,KAAK6D,MAAMC,OAAO,SAAU/C,GAAQ,MAAOA,GAAKuG,mBAAoB,IACjFtH,KAAK6D,MAAM4E,QAAQ,SAAU1H,GAAQA,EAAKuG,iBAAkB,KAG9D9G,EAAMpE,UAAUoG,OAAS,WACvB,MAAOxC,MAAKiI,KAGdzH,EAAM8C,QAAU,GAAI,EAAG,EAAG,GAC1B9C,EAAM+C,QAAU,EAAG,GAAI,EAAG,GAE1B/C,EAAMpE,UAAUqG,QAAU,WAExB,IAAK,GADD2G,IAAU,EACLzI,EAAM,EAAGA,EAAMH,EAAMqH,OAAQlH,EACpC,IAAK,GAAIwG,GAAS,EAAGA,EAAS3G,EAAMqH,OAAQV,EAAQ,CAClDiC,EAAUA,GAA8C,IAAlCpJ,KAAK4H,MAAMjH,GAAKwG,GAAQ3K,KAC9C,KAAK,GAAI6M,GAAM,EAAS,EAANA,IAAWA,EAAK,CAChC,GAAIC,GAAS3I,EAAMH,EAAM8C,OAAO+F,GAC5BE,EAAYpC,EAAS3G,EAAM+C,OAAO8F,EACzB,GAATC,GAAcA,GAAU9I,EAAMqH,MAAoB,EAAZ0B,GAAiBA,GAAa/I,EAAMqH,OAG9EuB,EAAUA,GAAYpJ,KAAK4H,MAAMjH,GAAKwG,GAAQ3K,QAAUwD,KAAK4H,MAAM0B,GAAQC,GAAW/M,QAI5F,OAAQ4M,GAGV1N,EAAOC,QAAU6E,GF8dXgJ,IACA,SAAS9N,EAAQC,EAASC,GG/pBhC,YH6qBC,SAAS6N,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GAFzF,GAAIG,GAAWxN,OAAOyN,QAAU,SAAUrM,GAAU,IAAK,GAAIE,GAAI,EAAGA,EAAIuC,UAAUtC,OAAQD,IAAK,CAAE,GAAIoM,GAAS7J,UAAUvC,EAAI,KAAK,GAAII,KAAOgM,GAAc1N,OAAOD,UAAU4N,eAAehL,KAAK+K,EAAQhM,KAAQN,EAAOM,GAAOgM,EAAOhM,IAAY,MAAON,IAInPwM,EAAiBrO,EG7qBD,KH+qBhBsO,EAAkBT,EAAuBQ,GAEzCE,EAASvO,EGhrBI,GHkrBbwO,EAAUX,EAAuBU,GAEjCE,EAAkBzO,EGnrBiB,KAapC0O,GAAqBnJ,IAAK,GAAIG,KAAM,GAAI0D,MAAO,GAAID,OAAQ,IAQ3DrF,EAAkB0K,EAAA,WAAMG,aH+qBzBC,YAAa,kBG9qBdC,QAAQJ,EAAAK,OAERC,WACE9H,QAASuH,EAAA,WAAMQ,UAAUC,KACzBC,UAAWV,EAAA,WAAMQ,UAAUC,KAC3BE,WAAYX,EAAA,WAAMQ,UAAUC,KAI5BG,sBAAuBZ,EAAA,WAAMQ,UAAUC,KAEvCI,yBAA0Bb,EAAA,WAAMQ,UAAUC,MAG5CK,gBAAiB,WACf,MAAArB,MACK7J,KAAKmL,4BACRC,MAAO,GAAIlB,GAAA,WAAShJ,MAAM,MAI9BmK,SAAU,SACR7O,EACA8O,EACAC,EACAC,GAEAtB,EAAA,WAASuB,OAAOzL,KAAKgB,MAAMoK,OACzBvJ,QAASrF,EACT8O,WACAC,eACCzJ,MAAM0J,IAOXE,6BAA8B,SAASC,GACrC3L,KAAKqL,SAAS,IAAM,GAAK,GACzBrL,KAAKtC,MAAMoN,WAAa9K,KAAKtC,MAAMoN,UAAUa,IAG/CC,8BAA+B,SAASD,GACtC3L,KAAKqL,SAAS,EAAG,GAAK,GACtBrL,KAAKtC,MAAMqN,YAAc/K,KAAKtC,MAAMqN,WAAWY,IAGjDE,qBAAsB,SAASF,GH2qB5B,GAAI/H,GAAQ5D,KG1qBTgL,EAAwBhL,KAAKtC,MAAMsN,qBACvC,OAAIA,OACFA,GAAsB,WACpBpH,EAAK5C,MAAMoK,MAAMU,SAAS,KAC1BlI,EAAKyH,SAAS,EAAG,GAAI,GAAIzH,EAAKlG,MAAMuN,6BAKxCjL,KAAKqL,SAAS,EAAG,GAAI,GAAIrL,KAAKtC,MAAMuN,+BACpCjL,KAAKtC,MAAMmF,SAAW7C,KAAKtC,MAAMmF,QAAQ8I,MAG3CI,4BAA6B,WAC3B,MAAOzB,IAGT0B,6BAA8B,WAC5B,MAAO,IAGTC,OAAQ,WACN,MACE7B,GAAA,WAAAjK,cAAC+J,EAAA,WAAS3K,MACRa,QAAS8L,YAAad,MAAOpL,KAAKgB,MAAMoK,SAAUpL,KAAKtC,MAAM0C,OAC7D+L,YAAY,EACZC,OAAQpM,KAAKtC,MAAM0O,OACnBC,0BAA2BrM,KAAKsM,uCAChCC,8BAA+BvM,KAAKwM,2CACpCC,iBAAkBzM,KAAK0M,8BACvBC,gBAAiB3M,KAAK4M,6BACtBC,mBAAoB7M,KAAK8M,gCACzBC,qBAAsB/M,KAAKgN,mCAC1BhN,KAAKtC,MAAMkD,YAMpBlF,GAAOC,QAAU+D","file":"game2048.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * The examples provided by Facebook are for non-commercial testing and\n\t * evaluation purposes only.\n\t *\n\t * Facebook reserves all rights not expressly granted.\n\t *\n\t * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\t * FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL\n\t * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN\n\t * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n\t * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t *\n\t * @providesModule Game2048\n\t * \n\t */\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar React = __webpack_require__(1);\n\tvar AppRegistry = React.AppRegistry;\n\tvar StyleSheet = React.StyleSheet;\n\tvar Text = React.Text;\n\tvar View = React.View;\n\tvar Platform = React.Platform;\n\t\n\tfunction getPageXY(event) {\n\t  if (Platform.OS == 'web') {\n\t    var touch = event.nativeEvent.changedTouches[0];\n\t    return {\n\t      pageX: touch.pageX,\n\t      pageY: touch.pageY\n\t    };\n\t  } else {\n\t    return {\n\t      pageX: event.nativeEvent.pageX,\n\t      pageY: event.nativeEvent.pageY\n\t    };\n\t  }\n\t}\n\t\n\tvar Animated = __webpack_require__(173);\n\tvar GameBoard = __webpack_require__(336);\n\tvar TouchableBounce = __webpack_require__(337);\n\t\n\tvar BOARD_PADDING = 3;\n\tvar CELL_MARGIN = 4;\n\tvar CELL_SIZE = 60;\n\t\n\tvar Cell = (function (_React$Component) {\n\t  _inherits(Cell, _React$Component);\n\t\n\t  function Cell() {\n\t    _classCallCheck(this, Cell);\n\t\n\t    _get(Object.getPrototypeOf(Cell.prototype), 'constructor', this).apply(this, arguments);\n\t  }\n\t\n\t  _createClass(Cell, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(View, { style: styles.cell });\n\t    }\n\t  }]);\n\t\n\t  return Cell;\n\t})(React.Component);\n\t\n\tvar Board = (function (_React$Component2) {\n\t  _inherits(Board, _React$Component2);\n\t\n\t  function Board() {\n\t    _classCallCheck(this, Board);\n\t\n\t    _get(Object.getPrototypeOf(Board.prototype), 'constructor', this).apply(this, arguments);\n\t  }\n\t\n\t  _createClass(Board, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      return React.createElement(\n\t        View,\n\t        { style: styles.board },\n\t        React.createElement(\n\t          View,\n\t          { style: styles.row },\n\t          React.createElement(Cell, null),\n\t          React.createElement(Cell, null),\n\t          React.createElement(Cell, null),\n\t          React.createElement(Cell, null)\n\t        ),\n\t        React.createElement(\n\t          View,\n\t          { style: styles.row },\n\t          React.createElement(Cell, null),\n\t          React.createElement(Cell, null),\n\t          React.createElement(Cell, null),\n\t          React.createElement(Cell, null)\n\t        ),\n\t        React.createElement(\n\t          View,\n\t          { style: styles.row },\n\t          React.createElement(Cell, null),\n\t          React.createElement(Cell, null),\n\t          React.createElement(Cell, null),\n\t          React.createElement(Cell, null)\n\t        ),\n\t        React.createElement(\n\t          View,\n\t          { style: styles.row },\n\t          React.createElement(Cell, null),\n\t          React.createElement(Cell, null),\n\t          React.createElement(Cell, null),\n\t          React.createElement(Cell, null)\n\t        ),\n\t        this.props.children\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Board;\n\t})(React.Component);\n\t\n\tvar Tile = (function (_React$Component3) {\n\t  _inherits(Tile, _React$Component3);\n\t\n\t  _createClass(Tile, null, [{\n\t    key: '_getPosition',\n\t    value: function _getPosition(index) {\n\t      return BOARD_PADDING + (index * (CELL_SIZE + CELL_MARGIN * 2) + CELL_MARGIN);\n\t    }\n\t  }]);\n\t\n\t  function Tile(props) {\n\t    _classCallCheck(this, Tile);\n\t\n\t    _get(Object.getPrototypeOf(Tile.prototype), 'constructor', this).call(this, props);\n\t\n\t    var tile = this.props.tile;\n\t\n\t    this.state = {\n\t      opacity: new Animated.Value(0),\n\t      top: new Animated.Value(Tile._getPosition(tile.toRow())),\n\t      left: new Animated.Value(Tile._getPosition(tile.toColumn()))\n\t    };\n\t  }\n\t\n\t  _createClass(Tile, [{\n\t    key: 'calculateOffset',\n\t    value: function calculateOffset() {\n\t      var tile = this.props.tile;\n\t\n\t      var offset = {\n\t        top: this.state.top,\n\t        left: this.state.left,\n\t        opacity: this.state.opacity\n\t      };\n\t\n\t      if (tile.isNew()) {\n\t        Animated.timing(this.state.opacity, {\n\t          duration: 100,\n\t          toValue: 1\n\t        }).start();\n\t      } else {\n\t        Animated.parallel([Animated.timing(offset.top, {\n\t          duration: 100,\n\t          toValue: Tile._getPosition(tile.toRow())\n\t        }), Animated.timing(offset.left, {\n\t          duration: 100,\n\t          toValue: Tile._getPosition(tile.toColumn())\n\t        })]).start();\n\t      }\n\t      return offset;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var tile = this.props.tile;\n\t\n\t      var tileStyles = [styles.tile, styles['tile' + tile.value], this.calculateOffset()];\n\t\n\t      var textStyles = [styles.value, tile.value > 4 && styles.whiteText, tile.value > 100 && styles.threeDigits, tile.value > 1000 && styles.fourDigits];\n\t\n\t      return React.createElement(\n\t        Animated.View,\n\t        { style: tileStyles },\n\t        React.createElement(\n\t          Text,\n\t          { style: textStyles },\n\t          tile.value\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Tile;\n\t})(React.Component);\n\t\n\tvar GameEndOverlay = (function (_React$Component4) {\n\t  _inherits(GameEndOverlay, _React$Component4);\n\t\n\t  function GameEndOverlay() {\n\t    _classCallCheck(this, GameEndOverlay);\n\t\n\t    _get(Object.getPrototypeOf(GameEndOverlay.prototype), 'constructor', this).apply(this, arguments);\n\t  }\n\t\n\t  _createClass(GameEndOverlay, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var board = this.props.board;\n\t\n\t      if (!board.hasWon() && !board.hasLost()) {\n\t        return React.createElement(View, null);\n\t      }\n\t\n\t      var message = board.hasWon() ? 'Good Job!' : 'Game Over';\n\t\n\t      return React.createElement(\n\t        View,\n\t        { style: styles.overlay },\n\t        React.createElement(\n\t          Text,\n\t          { style: styles.overlayMessage },\n\t          message\n\t        ),\n\t        React.createElement(\n\t          TouchableBounce,\n\t          { onPress: this.props.onRestart, style: styles.tryAgain },\n\t          React.createElement(\n\t            Text,\n\t            { style: styles.tryAgainText },\n\t            'Try Again?'\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return GameEndOverlay;\n\t})(React.Component);\n\t\n\tvar Game2048 = (function (_React$Component5) {\n\t  _inherits(Game2048, _React$Component5);\n\t\n\t  function Game2048(props) {\n\t    _classCallCheck(this, Game2048);\n\t\n\t    _get(Object.getPrototypeOf(Game2048.prototype), 'constructor', this).call(this, props);\n\t    this.state = {\n\t      board: new GameBoard()\n\t    };\n\t    this.startX = 0;\n\t    this.startY = 0;\n\t  }\n\t\n\t  _createClass(Game2048, [{\n\t    key: 'restartGame',\n\t    value: function restartGame() {\n\t      this.setState({ board: new GameBoard() });\n\t    }\n\t  }, {\n\t    key: 'handleTouchStart',\n\t    value: function handleTouchStart(event) {\n\t      if (this.state.board.hasWon()) {\n\t        return;\n\t      }\n\t\n\t      var touch = getPageXY(event);\n\t      this.startX = touch.pageX;\n\t      this.startY = touch.pageY;\n\t    }\n\t  }, {\n\t    key: 'handleTouchEnd',\n\t    value: function handleTouchEnd(event) {\n\t      if (this.state.board.hasWon()) {\n\t        return;\n\t      }\n\t\n\t      var touch = getPageXY(event);\n\t      var deltaX = touch.pageX - this.startX;\n\t      var deltaY = touch.pageY - this.startY;\n\t\n\t      var direction = -1;\n\t      if (Math.abs(deltaX) > 3 * Math.abs(deltaY) && Math.abs(deltaX) > 30) {\n\t        direction = deltaX > 0 ? 2 : 0;\n\t      } else if (Math.abs(deltaY) > 3 * Math.abs(deltaX) && Math.abs(deltaY) > 30) {\n\t        direction = deltaY > 0 ? 3 : 1;\n\t      }\n\t\n\t      if (direction !== -1) {\n\t        this.setState({ board: this.state.board.move(direction) });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this = this;\n\t\n\t      var tiles = this.state.board.tiles.filter(function (tile) {\n\t        return tile.value;\n\t      }).map(function (tile) {\n\t        return React.createElement(Tile, { ref: tile.id, key: tile.id, tile: tile });\n\t      });\n\t\n\t      return React.createElement(\n\t        View,\n\t        {\n\t          style: styles.container,\n\t          onTouchStart: function (event) {\n\t            return _this.handleTouchStart(event);\n\t          },\n\t          onTouchEnd: function (event) {\n\t            return _this.handleTouchEnd(event);\n\t          } },\n\t        React.createElement(\n\t          Board,\n\t          null,\n\t          tiles\n\t        ),\n\t        React.createElement(GameEndOverlay, { board: this.state.board, onRestart: function () {\n\t            return _this.restartGame();\n\t          } })\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return Game2048;\n\t})(React.Component);\n\t\n\tvar styles = StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    justifyContent: 'center',\n\t    alignItems: 'center'\n\t  },\n\t  board: {\n\t    padding: BOARD_PADDING,\n\t    backgroundColor: '#bbaaaa',\n\t    borderRadius: 5\n\t  },\n\t  overlay: {\n\t    position: 'absolute',\n\t    top: 0,\n\t    bottom: 0,\n\t    left: 0,\n\t    right: 0,\n\t    backgroundColor: 'rgba(221, 221, 221, 0.5)',\n\t    flex: 1,\n\t    flexDirection: 'column',\n\t    justifyContent: 'center',\n\t    alignItems: 'center'\n\t  },\n\t  overlayMessage: {\n\t    fontSize: 40,\n\t    marginBottom: 20\n\t  },\n\t  tryAgain: {\n\t    backgroundColor: '#887766',\n\t    padding: 20,\n\t    borderRadius: 5\n\t  },\n\t  tryAgainText: {\n\t    color: '#ffffff',\n\t    fontSize: 20,\n\t    fontWeight: '500'\n\t  },\n\t  cell: {\n\t    width: CELL_SIZE,\n\t    height: CELL_SIZE,\n\t    borderRadius: 5,\n\t    backgroundColor: '#ddccbb',\n\t    margin: CELL_MARGIN\n\t  },\n\t  row: {\n\t    flexDirection: 'row'\n\t  },\n\t  tile: {\n\t    position: 'absolute',\n\t    width: CELL_SIZE,\n\t    height: CELL_SIZE,\n\t    backgroundColor: '#ddccbb',\n\t    borderRadius: 5,\n\t    flex: 1,\n\t    justifyContent: 'center',\n\t    alignItems: 'center'\n\t  },\n\t  value: {\n\t    fontSize: 24,\n\t    color: '#776666',\n\t    fontFamily: 'Verdana',\n\t    fontWeight: '500'\n\t  },\n\t  tile2: {\n\t    backgroundColor: '#eeeeee'\n\t  },\n\t  tile4: {\n\t    backgroundColor: '#eeeecc'\n\t  },\n\t  tile8: {\n\t    backgroundColor: '#ffbb88'\n\t  },\n\t  tile16: {\n\t    backgroundColor: '#ff9966'\n\t  },\n\t  tile32: {\n\t    backgroundColor: '#ff7755'\n\t  },\n\t  tile64: {\n\t    backgroundColor: '#ff5533'\n\t  },\n\t  tile128: {\n\t    backgroundColor: '#eecc77'\n\t  },\n\t  tile256: {\n\t    backgroundColor: '#eecc66'\n\t  },\n\t  tile512: {\n\t    backgroundColor: '#eecc55'\n\t  },\n\t  tile1024: {\n\t    backgroundColor: '#eecc33'\n\t  },\n\t  tile2048: {\n\t    backgroundColor: '#eecc22'\n\t  },\n\t  whiteText: {\n\t    color: '#ffffff'\n\t  },\n\t  threeDigits: {\n\t    fontSize: 20\n\t  },\n\t  fourDigits: {\n\t    fontSize: 18\n\t  }\n\t});\n\t\n\tAppRegistry.registerComponent('Game2048', function () {\n\t  return Game2048;\n\t});\n\t\n\tif (Platform.OS == 'web') {\n\t  var app = document.createElement('div');\n\t  document.body.appendChild(app);\n\t\n\t  AppRegistry.runApplication('Game2048', {\n\t    rootTag: app\n\t  });\n\t}\n\t\n\tmodule.exports = Game2048;\n\n/***/ },\n\n/***/ 336:\n/***/ function(module, exports) {\n\n\t/**\n\t * The examples provided by Facebook are for non-commercial testing and\n\t * evaluation purposes only.\n\t *\n\t * Facebook reserves all rights not expressly granted.\n\t *\n\t * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\t * FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL\n\t * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN\n\t * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n\t * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t *\n\t * @providesModule GameBoard\n\t * \n\t */\n\t'use strict';\n\t\n\t// NB: Taken straight from: https://github.com/IvanVergiliev/2048-react/blob/master/src/board.js\n\t//     with no modificiation except to format it for CommonJS and fix lint/flow errors\n\t\n\tvar rotateLeft = function rotateLeft(matrix) {\n\t  var rows = matrix.length;\n\t  var columns = matrix[0].length;\n\t  var res = [];\n\t  for (var row = 0; row < rows; ++row) {\n\t    res.push([]);\n\t    for (var column = 0; column < columns; ++column) {\n\t      res[row][column] = matrix[column][columns - row - 1];\n\t    }\n\t  }\n\t  return res;\n\t};\n\t\n\tvar Tile = function Tile(value, row, column) {\n\t  this.value = value || 0;\n\t  this.row = row || -1;\n\t\n\t  this.column = column || -1;\n\t  this.oldRow = -1;\n\t  this.oldColumn = -1;\n\t  this.markForDeletion = false;\n\t  this.mergedInto = null;\n\t  this.id = Tile.id++;\n\t};\n\t\n\tTile.id = 0;\n\t\n\tTile.prototype.moveTo = function (row, column) {\n\t  this.oldRow = this.row;\n\t  this.oldColumn = this.column;\n\t  this.row = row;\n\t  this.column = column;\n\t};\n\t\n\tTile.prototype.isNew = function () {\n\t  return this.oldRow === -1 && !this.mergedInto;\n\t};\n\t\n\tTile.prototype.hasMoved = function () {\n\t  return this.fromRow() !== -1 && (this.fromRow() !== this.toRow() || this.fromColumn() !== this.toColumn()) || this.mergedInto;\n\t};\n\t\n\tTile.prototype.fromRow = function () {\n\t  return this.mergedInto ? this.row : this.oldRow;\n\t};\n\t\n\tTile.prototype.fromColumn = function () {\n\t  return this.mergedInto ? this.column : this.oldColumn;\n\t};\n\t\n\tTile.prototype.toRow = function () {\n\t  return this.mergedInto ? this.mergedInto.row : this.row;\n\t};\n\t\n\tTile.prototype.toColumn = function () {\n\t  return this.mergedInto ? this.mergedInto.column : this.column;\n\t};\n\t\n\tvar Board = function Board() {\n\t  this.tiles = [];\n\t  this.cells = [];\n\t  for (var i = 0; i < Board.size; ++i) {\n\t    this.cells[i] = [this.addTile(), this.addTile(), this.addTile(), this.addTile()];\n\t  }\n\t  this.addRandomTile();\n\t  this.setPositions();\n\t  this.won = false;\n\t};\n\t\n\tBoard.prototype.addTile = function () {\n\t  var res = new Tile();\n\t  Tile.apply(res, arguments);\n\t  this.tiles.push(res);\n\t  return res;\n\t};\n\t\n\tBoard.size = 4;\n\t\n\tBoard.prototype.moveLeft = function () {\n\t  var hasChanged = false;\n\t  for (var row = 0; row < Board.size; ++row) {\n\t    var currentRow = this.cells[row].filter(function (tile) {\n\t      return tile.value !== 0;\n\t    });\n\t    var resultRow = [];\n\t    for (var target = 0; target < Board.size; ++target) {\n\t      var targetTile = currentRow.length ? currentRow.shift() : this.addTile();\n\t      if (currentRow.length > 0 && currentRow[0].value === targetTile.value) {\n\t        var tile1 = targetTile;\n\t        targetTile = this.addTile(targetTile.value);\n\t        tile1.mergedInto = targetTile;\n\t        var tile2 = currentRow.shift();\n\t        tile2.mergedInto = targetTile;\n\t        targetTile.value += tile2.value;\n\t      }\n\t      resultRow[target] = targetTile;\n\t      this.won = this.won || targetTile.value === 2048;\n\t      hasChanged = hasChanged || targetTile.value !== this.cells[row][target].value;\n\t    }\n\t    this.cells[row] = resultRow;\n\t  }\n\t  return hasChanged;\n\t};\n\t\n\tBoard.prototype.setPositions = function () {\n\t  this.cells.forEach(function (row, rowIndex) {\n\t    row.forEach(function (tile, columnIndex) {\n\t      tile.oldRow = tile.row;\n\t      tile.oldColumn = tile.column;\n\t      tile.row = rowIndex;\n\t      tile.column = columnIndex;\n\t      tile.markForDeletion = false;\n\t    });\n\t  });\n\t};\n\t\n\tBoard.fourProbability = 0.1;\n\t\n\tBoard.prototype.addRandomTile = function () {\n\t  var emptyCells = [];\n\t  for (var r = 0; r < Board.size; ++r) {\n\t    for (var c = 0; c < Board.size; ++c) {\n\t      if (this.cells[r][c].value === 0) {\n\t        emptyCells.push({ r: r, c: c });\n\t      }\n\t    }\n\t  }\n\t  var index = Math.floor(Math.random() * emptyCells.length);\n\t  var cell = emptyCells[index];\n\t  var newValue = Math.random() < Board.fourProbability ? 4 : 2;\n\t  this.cells[cell.r][cell.c] = this.addTile(newValue);\n\t};\n\t\n\tBoard.prototype.move = function (direction) {\n\t  // 0 -> left, 1 -> up, 2 -> right, 3 -> down\n\t  this.clearOldTiles();\n\t  for (var i = 0; i < direction; ++i) {\n\t    this.cells = rotateLeft(this.cells);\n\t  }\n\t  var hasChanged = this.moveLeft();\n\t  for (var i = direction; i < 4; ++i) {\n\t    this.cells = rotateLeft(this.cells);\n\t  }\n\t  if (hasChanged) {\n\t    this.addRandomTile();\n\t  }\n\t  this.setPositions();\n\t  return this;\n\t};\n\t\n\tBoard.prototype.clearOldTiles = function () {\n\t  this.tiles = this.tiles.filter(function (tile) {\n\t    return tile.markForDeletion === false;\n\t  });\n\t  this.tiles.forEach(function (tile) {\n\t    tile.markForDeletion = true;\n\t  });\n\t};\n\t\n\tBoard.prototype.hasWon = function () {\n\t  return this.won;\n\t};\n\t\n\tBoard.deltaX = [-1, 0, 1, 0];\n\tBoard.deltaY = [0, -1, 0, 1];\n\t\n\tBoard.prototype.hasLost = function () {\n\t  var canMove = false;\n\t  for (var row = 0; row < Board.size; ++row) {\n\t    for (var column = 0; column < Board.size; ++column) {\n\t      canMove = canMove || this.cells[row][column].value === 0;\n\t      for (var dir = 0; dir < 4; ++dir) {\n\t        var newRow = row + Board.deltaX[dir];\n\t        var newColumn = column + Board.deltaY[dir];\n\t        if (newRow < 0 || newRow >= Board.size || newColumn < 0 || newColumn >= Board.size) {\n\t          continue;\n\t        }\n\t        canMove = canMove || this.cells[row][column].value === this.cells[newRow][newColumn].value;\n\t      }\n\t    }\n\t  }\n\t  return !canMove;\n\t};\n\t\n\tmodule.exports = Board;\n\n/***/ },\n\n/***/ 337:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (c) 2015-present, Alibaba Group Holding Limited.\n\t * All rights reserved.\n\t *\n\t * Copyright (c) 2015, Facebook, Inc.  All rights reserved.\n\t *\n\t * @providesModule ReactTouchableBounce\n\t */\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _ReactAnimated = __webpack_require__(173);\n\t\n\tvar _ReactAnimated2 = _interopRequireDefault(_ReactAnimated);\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _ReactTouchable = __webpack_require__(237);\n\t\n\t/**\n\t * When the scroll view is disabled, this defines how far your touch may move\n\t * off of the button, before deactivating the button. Once deactivated, try\n\t * moving it back and you'll see that the button is once again reactivated!\n\t * Move it back and forth several times while the scroll view is disabled.\n\t */\n\tvar PRESS_RECT_OFFSET = { top: 20, left: 20, right: 20, bottom: 30 };\n\t/**\n\t * Example of using the `TouchableMixin` to play well with other responder\n\t * locking views including `ScrollView`. `TouchableMixin` provides touchable\n\t * hooks (`this.touchableHandle*`) that we forward events to. In turn,\n\t * `TouchableMixin` expects us to implement some abstract methods to handle\n\t * interesting interactions such as `handleTouchablePress`.\n\t */\n\tvar TouchableBounce = _react2['default'].createClass({\n\t  displayName: 'TouchableBounce',\n\t\n\t  mixins: [_ReactTouchable.Mixin],\n\t\n\t  propTypes: {\n\t    onPress: _react2['default'].PropTypes.func,\n\t    onPressIn: _react2['default'].PropTypes.func,\n\t    onPressOut: _react2['default'].PropTypes.func,\n\t    // The function passed takes a callback to start the animation which should\n\t    // be run after this onPress handler is done. You can use this (for example)\n\t    // to update UI before starting the animation.\n\t    onPressWithCompletion: _react2['default'].PropTypes.func,\n\t    // the function passed is called after the animation is complete\n\t    onPressAnimationComplete: _react2['default'].PropTypes.func\n\t  },\n\t\n\t  getInitialState: function getInitialState() {\n\t    return _extends({}, this.touchableGetInitialState(), {\n\t      scale: new _ReactAnimated2['default'].Value(1)\n\t    });\n\t  },\n\t\n\t  bounceTo: function bounceTo(value, velocity, bounciness, callback) {\n\t    _ReactAnimated2['default'].spring(this.state.scale, {\n\t      toValue: value,\n\t      velocity: velocity,\n\t      bounciness: bounciness\n\t    }).start(callback);\n\t  },\n\t\n\t  /**\n\t   * `Touchable.Mixin` self callbacks. The mixin will invoke these if they are\n\t   * defined on your component.\n\t   */\n\t  touchableHandleActivePressIn: function touchableHandleActivePressIn(e) {\n\t    this.bounceTo(0.93, 0.1, 0);\n\t    this.props.onPressIn && this.props.onPressIn(e);\n\t  },\n\t\n\t  touchableHandleActivePressOut: function touchableHandleActivePressOut(e) {\n\t    this.bounceTo(1, 0.4, 0);\n\t    this.props.onPressOut && this.props.onPressOut(e);\n\t  },\n\t\n\t  touchableHandlePress: function touchableHandlePress(e) {\n\t    var _this = this;\n\t\n\t    var onPressWithCompletion = this.props.onPressWithCompletion;\n\t    if (onPressWithCompletion) {\n\t      onPressWithCompletion(function () {\n\t        _this.state.scale.setValue(0.93);\n\t        _this.bounceTo(1, 10, 10, _this.props.onPressAnimationComplete);\n\t      });\n\t      return;\n\t    }\n\t\n\t    this.bounceTo(1, 10, 10, this.props.onPressAnimationComplete);\n\t    this.props.onPress && this.props.onPress(e);\n\t  },\n\t\n\t  touchableGetPressRectOffset: function touchableGetPressRectOffset() {\n\t    return PRESS_RECT_OFFSET; // Always make sure to predeclare a constant!\n\t  },\n\t\n\t  touchableGetHighlightDelayMS: function touchableGetHighlightDelayMS() {\n\t    return 0;\n\t  },\n\t\n\t  render: function render() {\n\t    return _react2['default'].createElement(\n\t      _ReactAnimated2['default'].View,\n\t      {\n\t        style: [{ transform: [{ scale: this.state.scale }] }, this.props.style],\n\t        accessible: true,\n\t        testID: this.props.testID,\n\t        onStartShouldSetResponder: this.touchableHandleStartShouldSetResponder,\n\t        onResponderTerminationRequest: this.touchableHandleResponderTerminationRequest,\n\t        onResponderGrant: this.touchableHandleResponderGrant,\n\t        onResponderMove: this.touchableHandleResponderMove,\n\t        onResponderRelease: this.touchableHandleResponderRelease,\n\t        onResponderTerminate: this.touchableHandleResponderTerminate },\n\t      this.props.children\n\t    );\n\t  }\n\t});\n\t\n\tmodule.exports = TouchableBounce;\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** game2048.js\n **/","/**\n * The examples provided by Facebook are for non-commercial testing and\n * evaluation purposes only.\n *\n * Facebook reserves all rights not expressly granted.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL\n * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN\n * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * @providesModule Game2048\n * @flow\n */\n'use strict';\n\nvar React = require('react-native');\nvar {\n  AppRegistry,\n  StyleSheet,\n  Text,\n  View,\n  Platform,\n} = React;\n\nfunction getPageXY(event){\n  if (Platform.OS == 'web') {\n    var touch = event.nativeEvent.changedTouches[0];\n    return {\n      pageX: touch.pageX,\n      pageY: touch.pageY\n    }\n  } else {\n    return {\n      pageX: event.nativeEvent.pageX,\n      pageY: event.nativeEvent.pageY\n    }\n  }\n}\n\nvar Animated = require('ReactAnimated');\nvar GameBoard = require('GameBoard');\nvar TouchableBounce = require('ReactTouchableBounce');\n\nvar BOARD_PADDING = 3;\nvar CELL_MARGIN = 4;\nvar CELL_SIZE = 60;\n\nclass Cell extends React.Component {\n  render() {\n    return <View style={styles.cell} />;\n  }\n}\n\nclass Board extends React.Component {\n  render() {\n    return (\n      <View style={styles.board}>\n        <View style={styles.row}><Cell/><Cell/><Cell/><Cell/></View>\n        <View style={styles.row}><Cell/><Cell/><Cell/><Cell/></View>\n        <View style={styles.row}><Cell/><Cell/><Cell/><Cell/></View>\n        <View style={styles.row}><Cell/><Cell/><Cell/><Cell/></View>\n        {this.props.children}\n      </View>\n    );\n  }\n}\n\nclass Tile extends React.Component {\n  static _getPosition(index): number {\n    return BOARD_PADDING + (index * (CELL_SIZE + CELL_MARGIN * 2) + CELL_MARGIN);\n  }\n\n  constructor(props: {}) {\n    super(props);\n\n    var tile = this.props.tile;\n\n    this.state = {\n      opacity: new Animated.Value(0),\n      top: new Animated.Value(Tile._getPosition(tile.toRow())),\n      left: new Animated.Value(Tile._getPosition(tile.toColumn())),\n    };\n  }\n\n  calculateOffset(): {top: number; left: number; opacity: number} {\n    var tile = this.props.tile;\n\n    var offset = {\n      top: this.state.top,\n      left: this.state.left,\n      opacity: this.state.opacity,\n    };\n\n    if (tile.isNew()) {\n      Animated.timing(this.state.opacity, {\n        duration: 100,\n        toValue: 1,\n      }).start();\n    } else {\n      Animated.parallel([\n        Animated.timing(offset.top, {\n          duration: 100,\n          toValue: Tile._getPosition(tile.toRow()),\n        }),\n        Animated.timing(offset.left, {\n          duration: 100,\n          toValue: Tile._getPosition(tile.toColumn()),\n        }),\n      ]).start();\n    }\n    return offset;\n  }\n\n  render() {\n    var tile = this.props.tile;\n\n    var tileStyles = [\n      styles.tile,\n      styles['tile' + tile.value],\n      this.calculateOffset(),\n    ];\n\n    var textStyles = [\n      styles.value,\n      tile.value > 4 && styles.whiteText,\n      tile.value > 100 && styles.threeDigits,\n      tile.value > 1000 && styles.fourDigits,\n    ];\n\n    return (\n      <Animated.View style={tileStyles}>\n        <Text style={textStyles}>{tile.value}</Text>\n      </Animated.View>\n    );\n  }\n}\n\nclass GameEndOverlay extends React.Component {\n  render() {\n    var board = this.props.board;\n\n    if (!board.hasWon() && !board.hasLost()) {\n      return <View/>;\n    }\n\n    var message = board.hasWon() ?\n      'Good Job!' : 'Game Over';\n\n    return (\n      <View style={styles.overlay}>\n        <Text style={styles.overlayMessage}>{message}</Text>\n        <TouchableBounce onPress={this.props.onRestart} style={styles.tryAgain}>\n          <Text style={styles.tryAgainText}>Try Again?</Text>\n        </TouchableBounce>\n      </View>\n    );\n  }\n}\n\nclass Game2048 extends React.Component {\n  startX: number;\n  startY: number;\n\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      board: new GameBoard(),\n    };\n    this.startX = 0;\n    this.startY = 0;\n  }\n\n  restartGame() {\n    this.setState({board: new GameBoard()});\n  }\n\n  handleTouchStart(event: Object) {\n    if (this.state.board.hasWon()) {\n      return;\n    }\n\n    var touch = getPageXY(event);\n    this.startX = touch.pageX;\n    this.startY = touch.pageY;\n\n  }\n\n  handleTouchEnd(event: Object) {\n    if (this.state.board.hasWon()) {\n      return;\n    }\n\n    var touch = getPageXY(event);\n    var deltaX = touch.pageX - this.startX;\n    var deltaY = touch.pageY - this.startY;\n\n    var direction = -1;\n    if (Math.abs(deltaX) > 3 * Math.abs(deltaY) && Math.abs(deltaX) > 30) {\n      direction = deltaX > 0 ? 2 : 0;\n    } else if (Math.abs(deltaY) > 3 * Math.abs(deltaX) && Math.abs(deltaY) > 30) {\n      direction = deltaY > 0 ? 3 : 1;\n    }\n\n    if (direction !== -1) {\n      this.setState({board: this.state.board.move(direction)});\n    }\n  }\n\n  render() {\n    var tiles = this.state.board.tiles\n      .filter((tile) => tile.value)\n      .map((tile) => <Tile ref={tile.id} key={tile.id} tile={tile} />);\n\n    return (\n      <View\n        style={styles.container}\n        onTouchStart={(event) => this.handleTouchStart(event)}\n        onTouchEnd={(event) => this.handleTouchEnd(event)}>\n        <Board>\n          {tiles}\n        </Board>\n        <GameEndOverlay board={this.state.board} onRestart={() => this.restartGame()} />\n      </View>\n    );\n  }\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  board: {\n    padding: BOARD_PADDING,\n    backgroundColor: '#bbaaaa',\n    borderRadius: 5,\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: 'rgba(221, 221, 221, 0.5)',\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  overlayMessage: {\n    fontSize: 40,\n    marginBottom: 20,\n  },\n  tryAgain: {\n    backgroundColor: '#887766',\n    padding: 20,\n    borderRadius: 5,\n  },\n  tryAgainText: {\n    color: '#ffffff',\n    fontSize: 20,\n    fontWeight: '500',\n  },\n  cell: {\n    width: CELL_SIZE,\n    height: CELL_SIZE,\n    borderRadius: 5,\n    backgroundColor: '#ddccbb',\n    margin: CELL_MARGIN,\n  },\n  row: {\n    flexDirection: 'row',\n  },\n  tile: {\n    position: 'absolute',\n    width: CELL_SIZE,\n    height: CELL_SIZE,\n    backgroundColor: '#ddccbb',\n    borderRadius: 5,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  value: {\n    fontSize: 24,\n    color: '#776666',\n    fontFamily: 'Verdana',\n    fontWeight: '500',\n  },\n  tile2: {\n    backgroundColor: '#eeeeee',\n  },\n  tile4: {\n    backgroundColor: '#eeeecc',\n  },\n  tile8: {\n    backgroundColor: '#ffbb88',\n  },\n  tile16: {\n    backgroundColor: '#ff9966',\n  },\n  tile32: {\n    backgroundColor: '#ff7755',\n  },\n  tile64: {\n    backgroundColor: '#ff5533',\n  },\n  tile128: {\n    backgroundColor: '#eecc77',\n  },\n  tile256: {\n    backgroundColor: '#eecc66',\n  },\n  tile512: {\n    backgroundColor: '#eecc55',\n  },\n  tile1024: {\n    backgroundColor: '#eecc33',\n  },\n  tile2048: {\n    backgroundColor: '#eecc22',\n  },\n  whiteText: {\n    color: '#ffffff',\n  },\n  threeDigits: {\n    fontSize: 20,\n  },\n  fourDigits: {\n    fontSize: 18,\n  },\n});\n\nAppRegistry.registerComponent('Game2048', () => Game2048);\n\nif(Platform.OS == 'web'){\n  var app = document.createElement('div');\n  document.body.appendChild(app);\n\n  AppRegistry.runApplication('Game2048', {\n    rootTag: app\n  })\n}\n\nmodule.exports = Game2048;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Examples/2048/Game2048.js\n **/","/**\n * The examples provided by Facebook are for non-commercial testing and\n * evaluation purposes only.\n *\n * Facebook reserves all rights not expressly granted.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL\n * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN\n * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * @providesModule GameBoard\n * @flow\n */\n'use strict';\n\n// NB: Taken straight from: https://github.com/IvanVergiliev/2048-react/blob/master/src/board.js\n//     with no modificiation except to format it for CommonJS and fix lint/flow errors\n\nvar rotateLeft = function (matrix) {\n  var rows = matrix.length;\n  var columns = matrix[0].length;\n  var res = [];\n  for (var row = 0; row < rows; ++row) {\n    res.push([]);\n    for (var column = 0; column < columns; ++column) {\n      res[row][column] = matrix[column][columns - row - 1];\n    }\n  }\n  return res;\n};\n\nvar Tile = function (value?: number, row?: number, column?: number) {\n  this.value = value || 0;\n  this.row = row || -1;\n\n  this.column = column || -1;\n  this.oldRow = -1;\n  this.oldColumn = -1;\n  this.markForDeletion = false;\n  this.mergedInto = null;\n  this.id = Tile.id++;\n};\n\nTile.id = 0;\n\nTile.prototype.moveTo = function (row, column) {\n  this.oldRow = this.row;\n  this.oldColumn = this.column;\n  this.row = row;\n  this.column = column;\n};\n\nTile.prototype.isNew = function () {\n  return this.oldRow === -1 && !this.mergedInto;\n};\n\nTile.prototype.hasMoved = function () {\n  return (this.fromRow() !== -1 && (this.fromRow() !== this.toRow() || this.fromColumn() !== this.toColumn())) ||\n    this.mergedInto;\n};\n\nTile.prototype.fromRow = function () {\n  return this.mergedInto ? this.row : this.oldRow;\n};\n\nTile.prototype.fromColumn = function () {\n  return this.mergedInto ? this.column : this.oldColumn;\n};\n\nTile.prototype.toRow = function () {\n  return this.mergedInto ? this.mergedInto.row : this.row;\n};\n\nTile.prototype.toColumn = function () {\n  return this.mergedInto ? this.mergedInto.column : this.column;\n};\n\nvar Board = function () {\n  this.tiles = [];\n  this.cells = [];\n  for (var i = 0; i < Board.size; ++i) {\n    this.cells[i] = [this.addTile(), this.addTile(), this.addTile(), this.addTile()];\n  }\n  this.addRandomTile();\n  this.setPositions();\n  this.won = false;\n};\n\nBoard.prototype.addTile = function () {\n  var res = new Tile();\n  Tile.apply(res, arguments);\n  this.tiles.push(res);\n  return res;\n};\n\nBoard.size = 4;\n\nBoard.prototype.moveLeft = function () {\n  var hasChanged = false;\n  for (var row = 0; row < Board.size; ++row) {\n    var currentRow = this.cells[row].filter(function (tile) { return tile.value !== 0; });\n    var resultRow = [];\n    for (var target = 0; target < Board.size; ++target) {\n      var targetTile = currentRow.length ? currentRow.shift() : this.addTile();\n      if (currentRow.length > 0 && currentRow[0].value === targetTile.value) {\n        var tile1 = targetTile;\n        targetTile = this.addTile(targetTile.value);\n        tile1.mergedInto = targetTile;\n        var tile2 = currentRow.shift();\n        tile2.mergedInto = targetTile;\n        targetTile.value += tile2.value;\n      }\n      resultRow[target] = targetTile;\n      this.won = this.won || (targetTile.value === 2048);\n      hasChanged = hasChanged || (targetTile.value !== this.cells[row][target].value);\n    }\n    this.cells[row] = resultRow;\n  }\n  return hasChanged;\n};\n\nBoard.prototype.setPositions = function () {\n  this.cells.forEach(function (row, rowIndex) {\n    row.forEach(function (tile, columnIndex) {\n      tile.oldRow = tile.row;\n      tile.oldColumn = tile.column;\n      tile.row = rowIndex;\n      tile.column = columnIndex;\n      tile.markForDeletion = false;\n    });\n  });\n};\n\nBoard.fourProbability = 0.1;\n\nBoard.prototype.addRandomTile = function () {\n  var emptyCells = [];\n  for (var r = 0; r < Board.size; ++r) {\n    for (var c = 0; c < Board.size; ++c) {\n      if (this.cells[r][c].value === 0) {\n        emptyCells.push({r: r, c: c});\n      }\n    }\n  }\n  var index = Math.floor(Math.random() * emptyCells.length);\n  var cell = emptyCells[index];\n  var newValue = Math.random() < Board.fourProbability ? 4 : 2;\n  this.cells[cell.r][cell.c] = this.addTile(newValue);\n};\n\nBoard.prototype.move = function (direction) {\n  // 0 -> left, 1 -> up, 2 -> right, 3 -> down\n  this.clearOldTiles();\n  for (var i = 0; i < direction; ++i) {\n    this.cells = rotateLeft(this.cells);\n  }\n  var hasChanged = this.moveLeft();\n  for (var i = direction; i < 4; ++i) {\n    this.cells = rotateLeft(this.cells);\n  }\n  if (hasChanged) {\n    this.addRandomTile();\n  }\n  this.setPositions();\n  return this;\n};\n\nBoard.prototype.clearOldTiles = function () {\n  this.tiles = this.tiles.filter(function (tile) { return tile.markForDeletion === false; });\n  this.tiles.forEach(function (tile) { tile.markForDeletion = true; });\n};\n\nBoard.prototype.hasWon = function () {\n  return this.won;\n};\n\nBoard.deltaX = [-1, 0, 1, 0];\nBoard.deltaY = [0, -1, 0, 1];\n\nBoard.prototype.hasLost = function () {\n  var canMove = false;\n  for (var row = 0; row < Board.size; ++row) {\n    for (var column = 0; column < Board.size; ++column) {\n      canMove = canMove || (this.cells[row][column].value === 0);\n      for (var dir = 0; dir < 4; ++dir) {\n        var newRow = row + Board.deltaX[dir];\n        var newColumn = column + Board.deltaY[dir];\n        if (newRow < 0 || newRow >= Board.size || newColumn < 0 || newColumn >= Board.size) {\n          continue;\n        }\n        canMove = canMove || (this.cells[row][column].value === this.cells[newRow][newColumn].value);\n      }\n    }\n  }\n  return !canMove;\n};\n\nmodule.exports = Board;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Examples/2048/GameBoard.js\n **/","/**\n * Copyright (c) 2015-present, Alibaba Group Holding Limited.\n * All rights reserved.\n *\n * Copyright (c) 2015, Facebook, Inc.  All rights reserved.\n *\n * @providesModule ReactTouchableBounce\n */\n'use strict';\n\nimport Animated from 'ReactAnimated';\nimport React from 'react';\nimport { Mixin as TouchableMixin } from 'ReactTouchable';\n\ntype Event = Object;\ntype State = {\n  animationID: ?number;\n};\n\n/**\n * When the scroll view is disabled, this defines how far your touch may move\n * off of the button, before deactivating the button. Once deactivated, try\n * moving it back and you'll see that the button is once again reactivated!\n * Move it back and forth several times while the scroll view is disabled.\n */\nvar PRESS_RECT_OFFSET = {top: 20, left: 20, right: 20, bottom: 30};\n/**\n * Example of using the `TouchableMixin` to play well with other responder\n * locking views including `ScrollView`. `TouchableMixin` provides touchable\n * hooks (`this.touchableHandle*`) that we forward events to. In turn,\n * `TouchableMixin` expects us to implement some abstract methods to handle\n * interesting interactions such as `handleTouchablePress`.\n */\nvar TouchableBounce = React.createClass({\n  mixins: [TouchableMixin],\n\n  propTypes: {\n    onPress: React.PropTypes.func,\n    onPressIn: React.PropTypes.func,\n    onPressOut: React.PropTypes.func,\n    // The function passed takes a callback to start the animation which should\n    // be run after this onPress handler is done. You can use this (for example)\n    // to update UI before starting the animation.\n    onPressWithCompletion: React.PropTypes.func,\n    // the function passed is called after the animation is complete\n    onPressAnimationComplete: React.PropTypes.func,\n  },\n\n  getInitialState: function(): State {\n    return {\n      ...this.touchableGetInitialState(),\n      scale: new Animated.Value(1),\n    };\n  },\n\n  bounceTo: function(\n    value: number,\n    velocity: number,\n    bounciness: number,\n    callback?: ?Function\n  ) {\n    Animated.spring(this.state.scale, {\n      toValue: value,\n      velocity,\n      bounciness,\n    }).start(callback);\n  },\n\n  /**\n   * `Touchable.Mixin` self callbacks. The mixin will invoke these if they are\n   * defined on your component.\n   */\n  touchableHandleActivePressIn: function(e: Event) {\n    this.bounceTo(0.93, 0.1, 0);\n    this.props.onPressIn && this.props.onPressIn(e);\n  },\n\n  touchableHandleActivePressOut: function(e: Event) {\n    this.bounceTo(1, 0.4, 0);\n    this.props.onPressOut && this.props.onPressOut(e);\n  },\n\n  touchableHandlePress: function(e: Event) {\n    var onPressWithCompletion = this.props.onPressWithCompletion;\n    if (onPressWithCompletion) {\n      onPressWithCompletion(() => {\n        this.state.scale.setValue(0.93);\n        this.bounceTo(1, 10, 10, this.props.onPressAnimationComplete);\n      });\n      return;\n    }\n\n    this.bounceTo(1, 10, 10, this.props.onPressAnimationComplete);\n    this.props.onPress && this.props.onPress(e);\n  },\n\n  touchableGetPressRectOffset: function(): typeof PRESS_RECT_OFFSET {\n    return PRESS_RECT_OFFSET;   // Always make sure to predeclare a constant!\n  },\n\n  touchableGetHighlightDelayMS: function(): number {\n    return 0;\n  },\n\n  render: function(): ReactElement {\n    return (\n      <Animated.View\n        style={[{transform: [{scale: this.state.scale}]}, this.props.style]}\n        accessible={true}\n        testID={this.props.testID}\n        onStartShouldSetResponder={this.touchableHandleStartShouldSetResponder}\n        onResponderTerminationRequest={this.touchableHandleResponderTerminationRequest}\n        onResponderGrant={this.touchableHandleResponderGrant}\n        onResponderMove={this.touchableHandleResponderMove}\n        onResponderRelease={this.touchableHandleResponderRelease}\n        onResponderTerminate={this.touchableHandleResponderTerminate}>\n        {this.props.children}\n      </Animated.View>\n    );\n  }\n});\n\nmodule.exports = TouchableBounce;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Libraries/Touchable/TouchableBounce.web.js\n **/"],"sourceRoot":""}
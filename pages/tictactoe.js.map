{"version":3,"sources":["webpack:///tictactoe.js","webpack:///./Examples/TicTacToe/TicTacToeApp.js"],"names":["webpackJsonp","module","exports","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","React","AppRegistry","StyleSheet","Text","TouchableHighlight","View","Platform","Board","this","size","grid","Array","row","j","turn","value","col","player","winner","Cell","createClass","displayName","cellStyle","styles","cellX","cellO","textStyle","cellTextX","cellTextO","textContents","render","createElement","onPress","underlayColor","activeOpacity","style","cell","cellText","GameEndOverlay","board","tie","message","overlay","overlayMessage","onRestart","newGame","newGameText","TicTacToeApp","getInitialState","restartGame","setState","nextPlayer","state","handleCellPress","hasMark","mark","_this","rows","map","cells","bind","container","title","create","flex","justifyContent","alignItems","backgroundColor","fontFamily","fontSize","marginBottom","padding","borderRadius","flexDirection","width","height","margin","color","position","top","bottom","left","right","marginLeft","marginRight","textAlign","registerComponent","OS","app","document","body","appendChild","runApplication","rootTag"],"mappings":"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","file":"tictactoe.js","sourcesContent":["webpackJsonp([3],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * The examples provided by Facebook are for non-commercial testing and\n\t * evaluation purposes only.\n\t *\n\t * Facebook reserves all rights not expressly granted.\n\t *\n\t * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\t * FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL\n\t * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN\n\t * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n\t * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t *\n\t * @providesModule TicTacToeApp\n\t * \n\t */\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar React = __webpack_require__(1);\n\tvar AppRegistry = React.AppRegistry;\n\tvar StyleSheet = React.StyleSheet;\n\tvar Text = React.Text;\n\tvar TouchableHighlight = React.TouchableHighlight;\n\tvar View = React.View;\n\tvar Platform = React.Platform;\n\t\n\tvar Board = (function () {\n\t  function Board() {\n\t    _classCallCheck(this, Board);\n\t\n\t    var size = 3;\n\t    var grid = Array(size);\n\t    for (var i = 0; i < size; i++) {\n\t      var row = Array(size);\n\t      for (var j = 0; j < size; j++) {\n\t        row[j] = 0;\n\t      }\n\t      grid[i] = row;\n\t    }\n\t    this.grid = grid;\n\t\n\t    this.turn = 1;\n\t  }\n\t\n\t  _createClass(Board, [{\n\t    key: 'mark',\n\t    value: function mark(row, col, player) {\n\t      this.grid[row][col] = player;\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'hasMark',\n\t    value: function hasMark(row, col) {\n\t      return this.grid[row][col] !== 0;\n\t    }\n\t  }, {\n\t    key: 'winner',\n\t    value: function winner() {\n\t      for (var i = 0; i < 3; i++) {\n\t        if (this.grid[i][0] !== 0 && this.grid[i][0] === this.grid[i][1] && this.grid[i][0] === this.grid[i][2]) {\n\t          return this.grid[i][0];\n\t        }\n\t      }\n\t\n\t      for (var i = 0; i < 3; i++) {\n\t        if (this.grid[0][i] !== 0 && this.grid[0][i] === this.grid[1][i] && this.grid[0][i] === this.grid[2][i]) {\n\t          return this.grid[0][i];\n\t        }\n\t      }\n\t\n\t      if (this.grid[0][0] !== 0 && this.grid[0][0] === this.grid[1][1] && this.grid[0][0] === this.grid[2][2]) {\n\t        return this.grid[0][0];\n\t      }\n\t\n\t      if (this.grid[0][2] !== 0 && this.grid[0][2] === this.grid[1][1] && this.grid[0][2] === this.grid[2][0]) {\n\t        return this.grid[0][2];\n\t      }\n\t\n\t      return null;\n\t    }\n\t  }, {\n\t    key: 'tie',\n\t    value: function tie() {\n\t      for (var i = 0; i < 3; i++) {\n\t        for (var j = 0; j < 3; j++) {\n\t          if (this.grid[i][j] === 0) {\n\t            return false;\n\t          }\n\t        }\n\t      }\n\t\n\t      return this.winner() === null;\n\t    }\n\t  }]);\n\t\n\t  return Board;\n\t})();\n\t\n\tvar Cell = React.createClass({\n\t  displayName: 'Cell',\n\t\n\t  cellStyle: function cellStyle() {\n\t    switch (this.props.player) {\n\t      case 1:\n\t        return styles.cellX;\n\t      case 2:\n\t        return styles.cellO;\n\t      default:\n\t        return null;\n\t    }\n\t  },\n\t\n\t  textStyle: function textStyle() {\n\t    switch (this.props.player) {\n\t      case 1:\n\t        return styles.cellTextX;\n\t      case 2:\n\t        return styles.cellTextO;\n\t      default:\n\t        return {};\n\t    }\n\t  },\n\t\n\t  textContents: function textContents() {\n\t    switch (this.props.player) {\n\t      case 1:\n\t        return 'X';\n\t      case 2:\n\t        return 'O';\n\t      default:\n\t        return '';\n\t    }\n\t  },\n\t\n\t  render: function render() {\n\t    return React.createElement(\n\t      TouchableHighlight,\n\t      {\n\t        onPress: this.props.onPress,\n\t        underlayColor: 'transparent',\n\t        activeOpacity: 0.5 },\n\t      React.createElement(\n\t        View,\n\t        { style: [styles.cell, this.cellStyle()] },\n\t        React.createElement(\n\t          Text,\n\t          { style: [styles.cellText, this.textStyle()] },\n\t          this.textContents()\n\t        )\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\tvar GameEndOverlay = React.createClass({\n\t  displayName: 'GameEndOverlay',\n\t\n\t  render: function render() {\n\t    var board = this.props.board;\n\t\n\t    var tie = board.tie();\n\t    var winner = board.winner();\n\t    if (!winner && !tie) {\n\t      return React.createElement(View, null);\n\t    }\n\t\n\t    var message;\n\t    if (tie) {\n\t      message = 'It\\'s a tie!';\n\t    } else {\n\t      message = (winner === 1 ? 'X' : 'O') + ' wins!';\n\t    }\n\t\n\t    return React.createElement(\n\t      View,\n\t      { style: styles.overlay },\n\t      React.createElement(\n\t        Text,\n\t        { style: styles.overlayMessage },\n\t        message\n\t      ),\n\t      React.createElement(\n\t        TouchableHighlight,\n\t        {\n\t          onPress: this.props.onRestart,\n\t          underlayColor: 'transparent',\n\t          activeOpacity: 0.5 },\n\t        React.createElement(\n\t          View,\n\t          { style: styles.newGame },\n\t          React.createElement(\n\t            Text,\n\t            { style: styles.newGameText },\n\t            'New Game'\n\t          )\n\t        )\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\tvar TicTacToeApp = React.createClass({\n\t  displayName: 'TicTacToeApp',\n\t\n\t  getInitialState: function getInitialState() {\n\t    return { board: new Board(), player: 1 };\n\t  },\n\t\n\t  restartGame: function restartGame() {\n\t    this.setState(this.getInitialState());\n\t  },\n\t\n\t  nextPlayer: function nextPlayer() {\n\t    return this.state.player === 1 ? 2 : 1;\n\t  },\n\t\n\t  handleCellPress: function handleCellPress(row, col) {\n\t    if (this.state.board.hasMark(row, col)) {\n\t      return;\n\t    }\n\t\n\t    this.setState({\n\t      board: this.state.board.mark(row, col, this.state.player),\n\t      player: this.nextPlayer()\n\t    });\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    var rows = this.state.board.grid.map(function (cells, row) {\n\t      return React.createElement(\n\t        View,\n\t        { key: 'row' + row, style: styles.row },\n\t        cells.map(function (player, col) {\n\t          return React.createElement(Cell, {\n\t            key: 'cell' + col,\n\t            player: player,\n\t            onPress: _this.handleCellPress.bind(_this, row, col)\n\t          });\n\t        })\n\t      );\n\t    });\n\t\n\t    return React.createElement(\n\t      View,\n\t      { style: styles.container },\n\t      React.createElement(\n\t        Text,\n\t        { style: styles.title },\n\t        'EXTREME T3'\n\t      ),\n\t      React.createElement(\n\t        View,\n\t        { style: styles.board },\n\t        rows\n\t      ),\n\t      React.createElement(GameEndOverlay, {\n\t        board: this.state.board,\n\t        onRestart: this.restartGame\n\t      })\n\t    );\n\t  }\n\t});\n\t\n\tvar styles = StyleSheet.create({\n\t  container: {\n\t    flex: 1,\n\t    justifyContent: 'center',\n\t    alignItems: 'center',\n\t    backgroundColor: 'white'\n\t  },\n\t  title: {\n\t    fontFamily: 'Chalkduster',\n\t    fontSize: 39,\n\t    marginBottom: 20\n\t  },\n\t  board: {\n\t    padding: 5,\n\t    backgroundColor: '#47525d',\n\t    borderRadius: 10\n\t  },\n\t  row: {\n\t    flexDirection: 'row'\n\t  },\n\t\n\t  // CELL\n\t\n\t  cell: {\n\t    width: 80,\n\t    height: 80,\n\t    borderRadius: 5,\n\t    backgroundColor: '#7b8994',\n\t    margin: 5,\n\t    flex: 1,\n\t    justifyContent: 'center',\n\t    alignItems: 'center'\n\t  },\n\t  cellX: {\n\t    backgroundColor: '#72d0eb'\n\t  },\n\t  cellO: {\n\t    backgroundColor: '#7ebd26'\n\t  },\n\t\n\t  // CELL TEXT\n\t\n\t  cellText: {\n\t    borderRadius: 5,\n\t    fontSize: 50,\n\t    fontFamily: 'AvenirNext-Bold'\n\t  },\n\t  cellTextX: {\n\t    color: '#19a9e5'\n\t  },\n\t  cellTextO: {\n\t    color: '#b9dc2f'\n\t  },\n\t\n\t  // GAME OVER\n\t\n\t  overlay: {\n\t    position: 'absolute',\n\t    top: 0,\n\t    bottom: 0,\n\t    left: 0,\n\t    right: 0,\n\t    backgroundColor: 'rgba(221, 221, 221, 0.5)',\n\t    flex: 1,\n\t    flexDirection: 'column',\n\t    justifyContent: 'center',\n\t    alignItems: 'center'\n\t  },\n\t  overlayMessage: {\n\t    fontSize: 40,\n\t    marginBottom: 20,\n\t    marginLeft: 20,\n\t    marginRight: 20,\n\t    fontFamily: 'AvenirNext-DemiBold',\n\t    textAlign: 'center'\n\t  },\n\t  newGame: {\n\t    backgroundColor: '#887766',\n\t    padding: 20,\n\t    borderRadius: 5\n\t  },\n\t  newGameText: {\n\t    color: 'white',\n\t    fontSize: 20,\n\t    fontFamily: 'AvenirNext-DemiBold'\n\t  }\n\t});\n\t\n\tAppRegistry.registerComponent('TicTacToeApp', function () {\n\t  return TicTacToeApp;\n\t});\n\t\n\tif (Platform.OS == 'web') {\n\t  var app = document.createElement('div');\n\t  document.body.appendChild(app);\n\t\n\t  AppRegistry.runApplication('TicTacToeApp', {\n\t    rootTag: app\n\t  });\n\t}\n\t\n\tmodule.exports = TicTacToeApp;\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** tictactoe.js\n **/","/**\n * The examples provided by Facebook are for non-commercial testing and\n * evaluation purposes only.\n *\n * Facebook reserves all rights not expressly granted.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL\n * FACEBOOK BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN\n * AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * @providesModule TicTacToeApp\n * @flow\n */\n'use strict';\n\nvar React = require('react-native');\nvar {\n  AppRegistry,\n  StyleSheet,\n  Text,\n  TouchableHighlight,\n  View,\n  Platform\n} = React;\n\nclass Board {\n  grid: Array<Array<number>>;\n  turn: number;\n\n  constructor() {\n    var size = 3;\n    var grid = Array(size);\n    for (var i = 0; i < size; i++) {\n      var row = Array(size);\n      for (var j = 0; j < size; j++) {\n        row[j] = 0;\n      }\n      grid[i] = row;\n    }\n    this.grid = grid;\n\n    this.turn = 1;\n  }\n\n  mark(row: number, col: number, player: number): Board {\n    this.grid[row][col] = player;\n    return this;\n  }\n\n  hasMark(row: number, col: number): boolean {\n    return this.grid[row][col] !== 0;\n  }\n\n  winner(): ?number {\n    for (var i = 0; i < 3; i++) {\n      if (this.grid[i][0] !== 0 && this.grid[i][0] === this.grid[i][1] &&\n          this.grid[i][0] === this.grid[i][2]) {\n        return this.grid[i][0];\n      }\n    }\n\n    for (var i = 0; i < 3; i++) {\n      if (this.grid[0][i] !== 0 && this.grid[0][i] === this.grid[1][i] &&\n          this.grid[0][i] === this.grid[2][i]) {\n        return this.grid[0][i];\n      }\n    }\n\n    if (this.grid[0][0] !== 0 && this.grid[0][0] === this.grid[1][1] &&\n        this.grid[0][0] === this.grid[2][2]) {\n      return this.grid[0][0];\n    }\n\n    if (this.grid[0][2] !== 0 && this.grid[0][2] === this.grid[1][1] &&\n        this.grid[0][2] === this.grid[2][0]) {\n      return this.grid[0][2];\n    }\n\n    return null;\n  }\n\n  tie(): boolean {\n    for (var i = 0; i < 3; i++) {\n      for (var j = 0; j < 3; j++) {\n        if (this.grid[i][j] === 0) {\n          return false;\n        }\n      }\n    }\n\n    return this.winner() === null;\n  }\n}\n\nvar Cell = React.createClass({\n  cellStyle() {\n    switch (this.props.player) {\n      case 1:\n        return styles.cellX;\n      case 2:\n        return styles.cellO;\n      default:\n        return null;\n    }\n  },\n\n  textStyle() {\n    switch (this.props.player) {\n      case 1:\n        return styles.cellTextX;\n      case 2:\n        return styles.cellTextO;\n      default:\n        return {};\n    }\n  },\n\n  textContents() {\n    switch (this.props.player) {\n      case 1:\n        return 'X';\n      case 2:\n        return 'O';\n      default:\n        return '';\n    }\n  },\n\n  render() {\n    return (\n      <TouchableHighlight\n        onPress={this.props.onPress}\n        underlayColor=\"transparent\"\n        activeOpacity={0.5}>\n        <View style={[styles.cell, this.cellStyle()]}>\n          <Text style={[styles.cellText, this.textStyle()]}>\n            {this.textContents()}\n          </Text>\n        </View>\n      </TouchableHighlight>\n    );\n  }\n});\n\nvar GameEndOverlay = React.createClass({\n  render() {\n    var board = this.props.board;\n\n    var tie = board.tie();\n    var winner = board.winner();\n    if (!winner && !tie) {\n      return <View />;\n    }\n\n    var message;\n    if (tie) {\n      message = 'It\\'s a tie!';\n    } else {\n      message = (winner === 1 ? 'X' : 'O') + ' wins!';\n    }\n\n    return (\n      <View style={styles.overlay}>\n        <Text style={styles.overlayMessage}>{message}</Text>\n        <TouchableHighlight\n          onPress={this.props.onRestart}\n          underlayColor=\"transparent\"\n          activeOpacity={0.5}>\n          <View style={styles.newGame}>\n            <Text style={styles.newGameText}>New Game</Text>\n          </View>\n        </TouchableHighlight>\n      </View>\n    );\n  }\n});\n\nvar TicTacToeApp = React.createClass({\n  getInitialState() {\n    return { board: new Board(), player: 1 };\n  },\n\n  restartGame() {\n    this.setState(this.getInitialState());\n  },\n\n  nextPlayer(): number {\n    return this.state.player === 1 ? 2 : 1;\n  },\n\n  handleCellPress(row: number, col: number) {\n    if (this.state.board.hasMark(row, col)) {\n      return;\n    }\n\n    this.setState({\n      board: this.state.board.mark(row, col, this.state.player),\n      player: this.nextPlayer(),\n    });\n  },\n\n  render() {\n    var rows = this.state.board.grid.map((cells, row) =>\n      <View key={'row' + row} style={styles.row}>\n        {cells.map((player, col) =>\n          <Cell\n            key={'cell' + col}\n            player={player}\n            onPress={this.handleCellPress.bind(this, row, col)}\n          />\n        )}\n      </View>\n    );\n\n    return (\n      <View style={styles.container}>\n        <Text style={styles.title}>EXTREME T3</Text>\n        <View style={styles.board}>\n          {rows}\n        </View>\n        <GameEndOverlay\n          board={this.state.board}\n          onRestart={this.restartGame}\n        />\n      </View>\n    );\n  }\n});\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'white'\n  },\n  title: {\n    fontFamily: 'Chalkduster',\n    fontSize: 39,\n    marginBottom: 20,\n  },\n  board: {\n    padding: 5,\n    backgroundColor: '#47525d',\n    borderRadius: 10,\n  },\n  row: {\n    flexDirection: 'row',\n  },\n\n  // CELL\n\n  cell: {\n    width: 80,\n    height: 80,\n    borderRadius: 5,\n    backgroundColor: '#7b8994',\n    margin: 5,\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  cellX: {\n    backgroundColor: '#72d0eb',\n  },\n  cellO: {\n    backgroundColor: '#7ebd26',\n  },\n\n  // CELL TEXT\n\n  cellText: {\n    borderRadius: 5,\n    fontSize: 50,\n    fontFamily: 'AvenirNext-Bold',\n  },\n  cellTextX: {\n    color: '#19a9e5',\n  },\n  cellTextO: {\n    color: '#b9dc2f',\n  },\n\n  // GAME OVER\n\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: 'rgba(221, 221, 221, 0.5)',\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  overlayMessage: {\n    fontSize: 40,\n    marginBottom: 20,\n    marginLeft: 20,\n    marginRight: 20,\n    fontFamily: 'AvenirNext-DemiBold',\n    textAlign: 'center',\n  },\n  newGame: {\n    backgroundColor: '#887766',\n    padding: 20,\n    borderRadius: 5,\n  },\n  newGameText: {\n    color: 'white',\n    fontSize: 20,\n    fontFamily: 'AvenirNext-DemiBold',\n  },\n});\n\nAppRegistry.registerComponent('TicTacToeApp', () => TicTacToeApp);\n\nif(Platform.OS == 'web'){\n  var app = document.createElement('div');\n  document.body.appendChild(app);\n\n  AppRegistry.runApplication('TicTacToeApp', {\n    rootTag: app\n  });\n}\n\nmodule.exports = TicTacToeApp;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Examples/TicTacToe/TicTacToeApp.js\n **/"],"sourceRoot":""}